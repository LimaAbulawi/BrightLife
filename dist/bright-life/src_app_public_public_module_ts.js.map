{"version":3,"file":"src_app_public_public_module_ts.js","mappings":"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","sources":["./src/app/public/components/login/login.component.ts","./src/app/public/components/login/login.component.html","./src/app/public/components/register/register.component.ts","./src/app/public/components/register/register.component.html","./src/app/public/public-routing.module.ts","./src/app/public/public.module.ts","./src/app/public/services/auth.service.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { empty } from 'rxjs';\nimport { AuthService } from '../../services/auth.service';\nimport { LOCALSTORAGE_TOKEN_KEY } from 'src/app/app.module';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  errorMessage: string = '';\n\n  loginForm: FormGroup = new FormGroup({\n    email: new FormControl(null, [Validators.required, Validators.email]),\n    password: new FormControl(null, [Validators.required])\n  });\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  ngOnInit(): void {\n    console.log( localStorage.getItem(LOCALSTORAGE_TOKEN_KEY) )\n    if (typeof localStorage.getItem(LOCALSTORAGE_TOKEN_KEY) != 'undefined' && localStorage.getItem(LOCALSTORAGE_TOKEN_KEY)) {\n      console.log('alrady log');\n      this.router.navigate(['/protected/']);\n    }\n  }\n\n\n  login() {\n    if (!this.loginForm.valid) {\n      return;\n    }\n    this.authService.login(this.loginForm.value).subscribe(\n      (res: any) => {\n        console.log(res.code);\n        if (res.code == 200) {\n          this.router.navigate(['/protected/']);\n        }\n      },\n      (error) => {\n        console.log(error)\n        this.errorMessage = error.error.msg;\n      }\n    );\n  }\n}\n","<div class=\"bg-homeIntro p-0 h-[800px] grid w-full relative bg-no-repeat z-0 bg-contain bg-bottom pb-40 md:pb-[20%]\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <div class=\"card\">\n                    <div class=\"text-left mb-2\">\n                        <h1 class=\"login mb-1 text-purple-600\">login</h1>\n                        <h6 class=\"font-medium\">Don't have an account?\n                            <a routerLink=\"../register\" class=\"text-purple-400\">Sign up</a>\n                        </h6>\n                    </div>\n                    <form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\n\n                        <label class=\"text-rose-600\"\n                                *ngIf=\"errorMessage\">\n                                {{ errorMessage }}\n                            </label>\n\n                        <!-- email -->\n                        <div class=\"mb-3\">\n                            <label for=\"exampleInputEmail1\" class=\"form-label \">Email address</label>\n                            <input type=\"email\" class=\"form-control\" id=\"\" formControlName=\"email\" placeholder=\"email\">\n                            <div id=\"emailHelp\" class=\"form-text\">We'll never share your email with anyone else.</div>\n                            <label class=\"text-rose-600\"\n                                *ngIf=\"loginForm.get('email')?.touched && this.loginForm.get('email')?.hasError('required')\">\n                                email is required\n                            </label>\n                            \n                            <label class=\"text-rose-600\"\n                            *ngIf=\"this.loginForm.get('email')?.touched && loginForm.get('email')?.hasError('email')\">\n                            must be valid email\n                        </label>\n                        </div>\n                        <!-- password -->\n                        <div class=\"mb-3\">\n                            <label for=\"exampleInputPassword1\" class=\"form-label\">Password</label>\n                            <input type=\"password\" class=\"form-control\" id=\"\" formControlName=\"password\"\n                                placeholder=\"password\">\n                            <label class=\"text-rose-600\"\n                                *ngIf=\"this.loginForm.get('password')?.touched && this.loginForm.get('password')?.hasError('required')\">\n                                password is required\n                            </label>\n                        </div>\n\n                        <button type=\"submit\" [disabled]=\"!loginForm.valid\"\n                            class=\"inline-block px-6 py-2.5 bg-purple-600 text-white font-medium text-xs leading-5 uppercase rounded shadow-md hover:bg-purple-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out w-full \">\n                            login\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n\n  registerForm: FormGroup = new FormGroup({\n    name: new FormControl(null, [Validators.required]),\n    last_name: new FormControl(null, [Validators.required]),\n    phone: new FormControl(null, [Validators.required]),\n    email: new FormControl(null, [Validators.required, Validators.email]),\n    password: new FormControl(null, [Validators.required])\n  });\n  constructor(private authService: AuthService, private router: Router) { }\n\n  ngOnInit(): void {\n  }\n  register() {\n    debugger\n    if (!this.registerForm.valid) {\n      return;\n    }\n    this.authService.register(this.registerForm.value).subscribe(\n      (res: any) => {\n        // console.log(res);\n        if (res.code == 200) {\n          this.router.navigate(['/protected/']);\n        }\n        else {\n          // alert(\"0\"+res.success)\n        }\n      },\n    );\n  }\n}\n","<div class=\"bg-homeIntro p-0 h-[800px] grid w-full relative bg-no-repeat z-0 bg-contain bg-bottom pb-40 md:pb-[20%]\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <div class=\"card\">\n                    <div class=\"text-left mb-2\">\n                        <h1 class=\"login mb-1 text-purple-600\">Sign up</h1>\n                        <h6 class=\"font-medium\">Register Your self!\n                        </h6>\n                    </div>\n                    <form [formGroup]=\"registerForm\" (ngSubmit)=\"register()\">\n                        <!-- First name -->\n                        <div class=\"mb-3\">\n                            <label for=\"exampleInputPassword1\" class=\"form-label\">First Name</label>\n                            <input type=\"text\" placeholder=\"first name\"  class=\"form-control\" id=\"exampleInputPassword1\" formControlName=\"name\">\n                        </div>\n                         <!-- Last name -->\n                         <div class=\"mb-3\">\n                            <label for=\"exampleInputPassword1\" class=\"form-label\">Last Name</label>\n                            <input type=\"text\" placeholder=\"last name\"  class=\"form-control\" id=\"exampleInputPassword1\" formControlName=\"last_name\">\n                        </div>\n                        <!-- mobile number -->\n                        <div class=\"mb-3\">\n                            <label for=\"exampleInputPassword1\" class=\"form-label\">Mopile Number</label>\n                            <input type=\"number\" placeholder=\"mopile number\" class=\"form-control\" id=\"exampleInputPassword1\" formControlName=\"phone\">\n                        </div>\n                        <!-- email address -->\n                        <div class=\"mb-3\">\n                            <label for=\"exampleInputEmail1\" class=\"form-label \">Email address</label>\n                            <input type=\"email\"  placeholder=\"email\" class=\"form-control\" id=\"exampleInputEmail1\"\n                                aria-describedby=\"emailHelp\" formControlName=\"email\">\n                            <div id=\"emailHelp\" class=\"form-text\">We'll never share your email with anyone else.</div>\n                        </div>\n                        <!-- password -->\n                        <div class=\"mb-3\">\n                            <label for=\"exampleInputPassword1\" class=\"form-label\">Password</label>\n                            <input type=\"password\"  placeholder=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" formControlName=\"password\">\n                        </div>\n                        <button type=\"submit\"\n                            class=\"inline-block px-6 py-2.5 bg-purple-600 text-white font-medium text-xs leading-5 uppercase rounded shadow-md hover:bg-purple-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out w-full \">\n                            signup</button>\n                            <h6 class=\"\">Already registerd?\n                                <a routerLink=\"/login\" class=\"text-purple-400\">login</a>\n                            </h6>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\n\nconst routes: Routes = [\n  { path: \"login\", component: LoginComponent },\n  { path: \"register\", component: RegisterComponent },\n  {\n    path: '**', redirectTo: 'login',\n    pathMatch: \"full\"\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PublicRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\n\n\nimport { PublicRoutingModule } from './public-routing.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    LoginComponent,\n    RegisterComponent\n  ],\n  imports: [\n    CommonModule,\n    PublicRoutingModule,\n    ReactiveFormsModule\n  ]\n})\nexport class PublicModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { Observable, tap } from 'rxjs';\nimport { LOCALSTORAGE_TOKEN_KEY } from 'src/app/app.module';\nimport { LoginRequest, LoginResponse, RegisterRequest, RegisterResponse } from '../interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(\n    private http: HttpClient,\n    private jwtService: JwtHelperService\n  ) { }\n\n  login(loginRequest: LoginRequest): Observable<LoginResponse> {\n    return this.http.post<LoginResponse>('http://api.brightlifeapp.com/public/api/v1/login', loginRequest).pipe(\n      tap((res: LoginResponse) => localStorage.setItem(LOCALSTORAGE_TOKEN_KEY, res.data.token),\n      ),\n    );\n  }\n  register(loginRequest: RegisterRequest): Observable<RegisterResponse> {\n    return this.http.post<RegisterResponse>('http://api.brightlifeapp.com/public/api/v1/user-reg', loginRequest).pipe(\n      tap((res: RegisterResponse) => localStorage.setItem(LOCALSTORAGE_TOKEN_KEY, res.data.token),\n      ),\n    );\n  }\n  // getLoggedInUser() {\n  //   const decodedToken = this.jwtService.decodeToken();\n  //   return decodedToken.user;\n  // }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}