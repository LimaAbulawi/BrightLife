"use strict";(self.webpackChunkbrightLife=self.webpackChunkbrightLife||[]).push([[410],{6410:(C,c,r)=>{r.r(c),r.d(c,{PublicModule:()=>y});var d=r(6895),p=r(5450),l=r(433),a=r(3536),e=r(8256),h=r(529),s=r(8505),f=r(4244);let b=(()=>{class t{constructor(o,n){this.http=o,this.jwtService=n,this.basicUrl="http://api.brightlifeapp.com/public",this.headers=(new h.WM).set("content-type","application/json").set("Authorization","Bearer "+localStorage.getItem(a.Qc))}login(o){return this.http.post(this.basicUrl+"/api/v1/login",o).pipe((0,s.b)(n=>localStorage.setItem(a.Qc,n.data.token)),(0,s.b)(n=>localStorage.setItem("userName",n.data.user.name)),(0,s.b)(n=>localStorage.setItem("userImage",n.data.user.image)),(0,s.b)(n=>localStorage.setItem("userEmail",n.data.user.email)))}register(o){return this.http.post(this.basicUrl+"/api/v1/user-reg",o).pipe((0,s.b)(n=>localStorage.setItem(a.Qc,n.data.token)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.eN),e.LFG(f.N0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function v(t,i){if(1&t&&(e.TgZ(0,"label",17),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessage," ")}}function w(t,i){1&t&&(e.TgZ(0,"label",17),e._UZ(1,"i",18),e._uU(2," email is required "),e.qZA())}function Z(t,i){1&t&&(e.TgZ(0,"label",17),e._UZ(1,"i",18),e._uU(2," must be valid email "),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"label",17),e._UZ(1,"i",18),e._uU(2," password is required "),e.qZA())}const x=[{path:"login",component:(()=>{class t{constructor(o,n){this.authService=o,this.router=n,this.errorMessage="",this.loginForm=new l.cw({email:new l.NI(null,[l.kI.required,l.kI.email]),password:new l.NI(null,[l.kI.required])})}ngOnInit(){console.log(localStorage.getItem(a.Qc)),typeof localStorage.getItem(a.Qc)<"u"&&localStorage.getItem(a.Qc)&&this.router.navigate(["/protected/"])}login(){!this.loginForm.valid||this.authService.login(this.loginForm.value).subscribe(o=>{200==o.code&&this.router.navigate(["/protected/"])},o=>{this.errorMessage=o.error.msg})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(b),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:27,vars:6,consts:[[1,"bg-homeIntro","p-0","h-[100vh]","grid","w-full","relative","bg-no-repeat","z-0","bg-contain","bg-bottom","pb-40","md:pb-[20%]"],[1,"container"],[1,"row"],[1,"col-md-6","mx-auto"],[1,"card","lg:w-[500px]","mx-auto"],[1,"text-left","mb-2"],[1,"login","mb-1","text-purple-600"],[3,"formGroup","ngSubmit"],["class","text-rose-600",4,"ngIf"],[1,"mb-3"],[1,"flex","justify-between"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","","formControlName","email","placeholder","email",1,"form-control"],["id","emailHelp",1,"form-text"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","","formControlName","password","placeholder","password",1,"form-control"],["type","submit",1,"inline-block","px-6","py-2.5","bg-purple-600","text-white","font-medium","text-base","leading-5","rounded","shadow-md","hover:bg-purple-700","hover:shadow-lg","focus:bg-purple-700","focus:shadow-lg","focus:outline-none","focus:ring-0","active:bg-purple-800","active:shadow-lg","transition","duration-150","ease-in-out","w-full",3,"disabled"],[1,"text-rose-600"],[1,"fad","fa-exclamation"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),e._uU(7,"login"),e.qZA()(),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return n.login()}),e.YNc(9,v,2,1,"label",8),e.TgZ(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Email address"),e.qZA(),e.YNc(14,w,3,0,"label",8),e.YNc(15,Z,3,0,"label",8),e.qZA(),e._UZ(16,"input",12),e.TgZ(17,"div",13),e._uU(18,"We'll never share your email with anyone else."),e.qZA()(),e.TgZ(19,"div",9)(20,"div",10)(21,"label",14),e._uU(22,"Password"),e.qZA(),e.YNc(23,I,3,0,"label",8),e.qZA(),e._UZ(24,"input",15),e.qZA(),e.TgZ(25,"button",16),e._uU(26," Login "),e.qZA()()()()()()()),2&o){let u,g,m;e.xp6(8),e.Q6J("formGroup",n.loginForm),e.xp6(1),e.Q6J("ngIf",n.errorMessage),e.xp6(5),e.Q6J("ngIf",(null==(u=n.loginForm.get("email"))?null:u.touched)&&(null==(u=n.loginForm.get("email"))?null:u.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(g=n.loginForm.get("email"))?null:g.touched)&&(null==(g=n.loginForm.get("email"))?null:g.hasError("email"))),e.xp6(8),e.Q6J("ngIf",(null==(m=n.loginForm.get("password"))?null:m.touched)&&(null==(m=n.loginForm.get("password"))?null:m.hasError("required"))),e.xp6(2),e.Q6J("disabled",!n.loginForm.valid)}},dependencies:[d.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".backGround[_ngcontent-%COMP%]{padding:0;display:grid;height:auto;width:100%;position:relative;background-repeat:no-repeat;z-index:0;background-image:url(bg.e8d0a54e8c47740b.svg);background-size:contain;background-position:bottom}.card[_ngcontent-%COMP%]{padding:40px;box-shadow:0 5px 50px #0003;border-radius:.8rem!important;margin-top:20%}.login[_ngcontent-%COMP%]{letter-spacing:-.025em!important;line-height:1.25!important;font-weight:800!important;font-size:2rem!important}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"]}),t})()},{path:"**",redirectTo:"login",pathMatch:"full"}];let S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(x),p.Bz]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,S,l.UX]}),t})()}}]);